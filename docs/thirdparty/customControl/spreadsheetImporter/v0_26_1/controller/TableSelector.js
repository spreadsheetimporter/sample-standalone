"use strict";sap.ui.define(["sap/ui/base/ManagedObject","sap/m/Dialog","sap/m/Select","sap/m/Button","sap/ui/core/Item","sap/ui/model/resource/ResourceModel"],function(e,t,s,n,o,i){"use strict";const a=e.extend("cc.spreadsheetimporter.v0_26_1.TableSelector",{constructor:function t(s){e.prototype.constructor.call(this);this._tables=[];this._tables=this._getTableObject(s);this._i18nModel=new i({bundleName:"cc.spreadsheetimporter.v0_26_1.i18n.i18n"})},getTables:function e(){return this._tables},chooseTable:function e(){return new Promise((e,i)=>{if(this._tables.length===0){i(new Error("No tables found"))}if(this._tables.length===1){e(this._tables[0])}const a=new s;this._tables.forEach(e=>{a.addItem(new o({key:e.getId(),text:e.getBinding("items").getPath()}))});const r=this._i18nModel.getResourceBundle();const l=new t({title:r.getText("tableSelectorDialogTitle"),type:"Message",content:[a],beginButton:new n({text:r.getText("ok"),press:()=>{const t=a.getSelectedKey();const s=this._tables.find(e=>e.getId()===t);e(s);l.close()}}),afterClose:()=>l.destroy(),endButton:new n({text:r.getText("close"),press:()=>{i(new Error(r.getText("close")));l.close()}})});l.open()})},_getTableObject:function e(t){return t.findAggregatedObjects(true,function(e){return e.isA("sap.m.Table")||e.isA("sap.ui.table.Table")})},get tables(){return this._tables},set tables(e){this._tables=e}});return a});
//# sourceMappingURL=TableSelector.js.map